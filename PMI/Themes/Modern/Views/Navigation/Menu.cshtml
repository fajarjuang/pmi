@model IEnumerable<PMI.Models.MenuItem>

@functions {
    public string ActiveClass(bool status)
    {
        return status ? "class=active" : "";
    }
}

<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">

            <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a href="@Url.Action("Index", "Home", new { area = "" })" class="brand" id="pmi-brand">
                <img src="@Url.Content("~/Content/images/pmi-icon.png")" id="site-logo" title="@GlobalResources.SiteTitle">
                @GlobalResources.SiteTitle
            </a>

            <div class="nav-collapse">
            <ul class="nav">
                @foreach (var item in Model.Where(p => p.Area == ""))
                {
                    <li @ActiveClass(item.Active)>@Html.ActionLink(item.Text, item.Action, item.Controller, new { area = item.Area }, null)</li>
                }

            </ul>

            <form class="navbar-search pull-right">
                <input type="text" placeholder="cari" class="input-medium search-query">
            </form>

            @if (HttpContext.Current.User.IsInRole("CanPostNews"))
            { 
                <ul class="nav pull-right hidden-phone hidden-tablet">
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">@GlobalResources.MenuAdmin <i class="caret"></i></a>
                        <ul class="dropdown-menu">
                            @foreach (var item in Model.Where(p => p.Area == "Admin"))
                            {
                                <li @ActiveClass(item.Active)>@Html.ActionLink(item.Text, item.Action, item.Controller, new { area = item.Area }, null)</li>
                            }
                        </ul>
                    </li>
                </ul>
            }
            </div>
        </div>
    </div>
</div>
